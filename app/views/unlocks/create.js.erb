<% if @unlock.unlockable_type == "Page" %>
var td = $("#activity_<%= @unlock.unlockable_id%>_student_<%=@unlock.student_id %>")
        td.parent().find(".student-progress-col").remove()
        td.replaceWith(
        "<%= j render partial:"school_classes/school_classes_activities/activity_status", locals: {student: [0,{id: @unlock.student.id,name: @unlock.student.name, percent_done: 0.00}],
        activity: {id: @unlock.unlockable_id,students_who_unlocked: {@unlock.student.id => :unlocked}}}%>");

<%else%>
$("#task_<%=@unlock.unlockable_id %>_student_<%= @unlock.student_id%>").replaceWith(
        "<%= j render partial:"school_classes/school_classes_activities/student_status", locals: {student: [0,{id: @unlock.student.id,name: @unlock.student.name, percent_done: 0.00}],
        task: {id: @unlock.unlockable_id, statuses: {@unlock.student_id => :visible}}}%>");

$("#progress-chart").replaceWith(
        "<%= j render partial:"school_classes/school_classes_activities/graph", locals:{graph_info: @school_class.activity_progress_graph_array_for(@unlock.unlockable.activity_page)} %>"
);
<%end%>